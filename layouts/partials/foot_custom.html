<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"
    integrity="sha512-9GIHU4rPKUMvNOHFOer5Zm2zHnZOjayOO3lZpokhhCtgt8FNlNiW/bb7kl0R5ZXfCDVPcQ8S4oBdNs92p5Nm2w=="
    crossorigin="anonymous"></script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script async>

    // code syntax highlighting
    // hljs.configure({ languages: [] });
    hljs.initHighlightingOnLoad();

    // mathjax rendering
    /* https://yihui.org/js/math-code.js */
    (function () {
        var i, text, code, codes = document.getElementsByTagName('code');
        for (i = 0; i < codes.length;) {
            code = codes[i];
            if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
                text = code.textContent;
                if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
                    text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
                    code.textContent = text;
                }
                if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
                    /^\$(.|\s)+\$$/.test(text) ||
                    /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
                    code.outerHTML = code.innerHTML;  // remove <code></code>
                    continue;
                }
            }
            i++;
        }
    })();

    // center image
    /* https://yihui.org/js/center-img.js */
    (function () {
        function center_el(tagName) {
            var tags = document.getElementsByTagName(tagName), i, tag;
            for (i = 0; i < tags.length; i++) {
                tag = tags[i];
                var parent = tag.parentElement;
                // center an image if it is the only element of its parent
                if (parent.childNodes.length === 1) {
                    // if there is a link on image, check grandparent
                    if (parent.nodeName === 'A') {
                        parent = parent.parentElement;
                        if (parent.childNodes.length != 1) continue;
                        parent.firstChild.style.border = 'none';
                    }
                    if (parent.nodeName === 'P') parent.style.textAlign = 'center';
                }
            }
        }
        var tagNames = ['img', 'embed', 'object'];
        for (var i = 0; i < tagNames.length; i++) {
            center_el(tagNames[i]);
        }
    })();
</script>